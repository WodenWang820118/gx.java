# Aggregator Service - HTTP + gRPC Client
server.port=3001

# gRPC Client Configuration for user-service
# Spring gRPC (org.springframework.grpc) - named channels
spring.grpc.client.channels.user-service.address=static://localhost:9092
spring.grpc.client.channels.user-service.negotiation-type=plaintext

# keep-alive 記得要 enable（不然你下面那些 keep-alive 可能不生效）
spring.grpc.client.channels.user-service.enable-keep-alive=true
spring.grpc.client.channels.user-service.keep-alive-time=30s
spring.grpc.client.channels.user-service.keep-alive-timeout=10s
spring.grpc.client.channels.user-service.keep-alive-without-calls=false

spring.grpc.client.channels.user-service.idle-timeout=5m
spring.grpc.client.channels.user-service.max-inbound-message-size=4194304B
spring.grpc.client.channels.user-service.max-inbound-metadata-size=8192B

# gRPC Client Configuration for stock-service
spring.grpc.client.channels.stock-service.address=static://localhost:9091
spring.grpc.client.channels.stock-service.negotiation-type=plaintext
spring.grpc.client.channels.stock-service.keep-alive-time=30s
spring.grpc.client.channels.stock-service.keep-alive-timeout=10s

# Logging
logging.level.com.gx.aggregator=INFO
logging.level.io.grpc=DEBUG
